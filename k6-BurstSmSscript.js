// Auto-generated by the postman-to-k6 converter

import "./libs/shim/core.js";
import URI from "./libs/urijs.js";
import { htmlReport } from "https://raw.githubusercontent.com/benc-uk/k6-reporter/main/dist/bundle.js";
//export let options = { maxRedirects: 4 };
export const options = {
 stages: [
   { duration: '3s', target: 1 },
   { duration: '10s', target: 3 },
   { duration: '5s', target: 0 },
  ],
};
const Request = Symbol.for("request");
postman[Symbol.for("initial")]({
  options,
  collection: {
    randomNum: ""
  }
});

export default function() {
  postman[Request]({
    name: "GetSMS",
    id: "14d0f89f-bf9c-46b8-a871-e8c3b5845312",
    method: "GET",
    address:
      "https://api.transmitsms.com/get-user-sms-responses.json?page=1&max=1",
    auth(config, Var) {
      const address = new URI(config.address);
      address.username("7a4dfdb992584c6a3e33dc8d0fc5df4a");
      address.password("Ben@123");
      config.address = address.toString();
      config.options.auth = "basic";
    }
  });

  postman[Request]({
    name: "Get SMS Stat",
    id: "83deaaae-df0d-4b16-aaab-3c3f21e48b95",
    method: "GET",
    address:
      "https://api.transmitsms.com/get-contact-sms-stats.json?mobile=481075424",
    auth(config, Var) {
      const address = new URI(config.address);
      address.username("7a4dfdb992584c6a3e33dc8d0fc5df4a");
      address.password("Ben@123");
      config.address = address.toString();
      config.options.auth = "basic";
    }
  });

  //postman[Request]({
    //name: "Send Otp",
    //id: "90f710cb-0d7b-4cbb-8704-ad5b3ea6c65e",
    //method: "POST",
    //address:
      //"https://api.transmitsms.com/send-sms.json?message={{randomNum}}%20is%20your%20one-time//%20passcode%20to%20log%20in&to=481075424&countrycode=au",
  //  pre() {
  //    pm.collectionVariables.set("randomNum", _.random(10000, 99999));
  //  },
  //  auth(config, Var) {
  //    const address = new URI(config.address);
  //    address.username("7a4dfdb992584c6a3e33dc8d0fc5df4a");
  //    address.password("Ben@123");
  //    config.address = address.toString();
  //    config.options.auth = "basic";
  //  }
 // });
}
export function handleSummary(data) {
  return {
    "Burst_result.html": htmlReport(data),
   
  };
}